<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: modules/dev/public/js/events.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Demo","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Demo</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Bus">
            <span class="title">
                <a href="Bus.html">Bus</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Bus#start"><a href="Bus.html#start">start</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Bus#fire"><a href="Bus.html#fire">fire</a></li>
            
                <li data-name="Bus#on"><a href="Bus.html#on">on</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="events.js.html">Source: modules/dev/public/js/events.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>/**
 * Created by jiamiu on 14-4-8.
 */

function isArray(obj){
  return Array.isArray? Array.isArray(obj):Object.prototype.toString.call(obj) == '[object Array]'
}

function createSVGElement( e,attr){
  var $el = Snap( document.createElementNS('http://www.w3.org/2000/svg', e) )
  return attr ? $el.attr(attr) : $el
}

function createSVGText( text ){
  var $text = createSVGElement('text');
  $text.node.innerHTML=text;
  Snap('svg').append($text);
  $text.data('width',$text.getBBox().width);
  return $text.remove()
}


function createFnRect($t,attr){
  var $g = createSVGElement('g').attr('class','fnRect'),
    $r = createSVGElement('rect', $.extend({
      x:0,
      y:0,
      fill:FILL
    },attr))

  $t.attr({x:PADDING/2,y:TEXT_FIX})

  return $g.append( $r).append($t)
}

function tranStr( obj ){
  return 'translate('+obj.x+','+obj.y+')'
}

function iteratorLast( obj, branch, fn,ctx ){
  ctx = ctx||this
  var end = false,
    children

  if( isArray(branch) ){
    if( !branch.every(function(b){ if( eval('obj.'+b) !== undefined) return true})) end= true
  }else{
    if( eval('obj.'+b) === undefined ) end = true
  }

  if( end ){
    return fn.call(ctx,obj,undefined)

  }else {

    children = isArray(branch) ?
      branch.map(function (b) {
        return callIterator( eval('obj.'+b), branch,fn,ctx)
      }) :
      callIterator( eval('obj.'+branch,branch,fn,ctx))

    return  fn.call(ctx, obj, children)
  }

  function callIterator(obj, branch ,fn,ctx){
    var x = eval('obj.' + branch),
      childrenRes = isArray(x) ? [] : {}

    forEach( x,function( e, i){
      childrenRes[i] = iterator(c, branch, fn, ctx)
    })

    return childrenRes
  }

}

function buildTree( data, children){

}

function forEach( object, iterator ){
  if( Object.prototype.toString.call(object) == '[object Array]'){
    return object.forEach(iterator)
  }

  for(var i in object){
    iterator.call( object[i], object[i], i)
  }
}

$(function(){
  $.ajax({
    url : '/dev/events',
    success : function(data){
      var $g = createSVGElement('g'),
        $diagram = iteratorLast({"/":data},['str','reg'],buildTree,$g)

      console.log($diagram)
    }
  })
})
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Thu Sep 11 2014 18:00:21 GMT+0800 (CST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
